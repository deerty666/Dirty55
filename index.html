<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ø·Ø§Ø¹Ù… Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ â€” Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</title>

  <!-- Tailwind CDN (ØªØ¬Ø±ÙŠØ¨ÙŠ) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="manifest" href="/manifest.json">

  <style>
    :root{
      --brown-dark:#2f1b12;
      --brown:#3b2314;
      --gold:#d3a15e;
      --cream:#f6e9d6;
    }
    html,body { font-family: 'Cairo', sans-serif; background: linear-gradient(180deg,var(--brown-dark), #2b1a10); color:var(--cream); }
    .glass { background: rgba(255,255,255,0.03); backdrop-filter: blur(4px); border:1px solid rgba(255,255,255,0.03); }
    #installBanner { display:none; }
  </style>
</head>
<body class="min-h-screen">

  <!-- ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
  <div id="installBanner" class="glass sticky top-0 z-50 p-3 flex justify-center items-center">
    <button id="installButton" class="flex items-center gap-2 px-4 py-2 rounded-xl shadow-md" style="background:var(--gold); color:#2b1a10; font-weight:700;">
      ğŸ“± Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„ØªØ«Ø¨ÙŠØª ØªØ·Ø¨ÙŠÙ‚ Ù…Ø·Ø§Ø¹Ù… Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ
    </button>
  </div>

  <header class="p-5">
    <div class="max-w-3xl mx-auto">
      <div class="flex items-center justify-between">
        <h1 class="text-3xl" style="color:var(--gold); font-weight:800;">Ù…Ø·Ø§Ø¹Ù… Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ</h1>
        <div class="flex items-center gap-3">
          <button id="cartBtn" class="relative glass p-2 rounded-lg">ğŸ›’
            <span id="cartCount" class="absolute -top-1 -left-1 bg-amber-400 text-brown-900 text-xs rounded-full px-2">0</span>
          </button>
        </div>
      </div>

      <div class="mt-4">
        <input id="searchInput" dir="rtl" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø·Ø¨Ù‚ Ø£Ùˆ Ù…Ø´Ø±ÙˆØ¨..." class="w-full p-3 rounded-full glass placeholder:opacity-60" />
      </div>

      <div id="sections" class="mt-4 flex gap-3 overflow-x-auto py-2"></div>
    </div>
  </header>

  <main class="max-w-3xl mx-auto pb-28">
    <div id="menuList" class="grid grid-cols-1 gap-4 p-4"></div>
  </main>

  <nav class="fixed bottom-0 left-0 right-0 p-3 glass z-40">
    <div class="max-w-3xl mx-auto flex justify-between items-center">
      <div class="flex gap-6 items-center">
        <button id="homeBtn" class="flex flex-col items-center text-sm">ğŸ½<span>Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span></button>
        <button id="contactBtn" class="flex flex-col items-center text-sm">ğŸ“<span>ØªÙˆØ§ØµÙ„</span></button>
        <button id="aboutBtn" class="flex flex-col items-center text-sm">â„¹ï¸<span>Ø­ÙˆÙ„Ù†Ø§</span></button>
      </div>
      <div>
        <button id="openCartBottom" class="px-4 py-2 rounded-lg" style="background:var(--gold); color:#2b1a10; font-weight:700;">
          Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© â€” <span id="cartTotal">0 Ø±ÙŠØ§Ù„</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Modal -->
  <div id="productModal" class="fixed inset-0 hidden z-50 items-end md:items-center justify-center p-4">
    <div class="bg-[#231610] w-full md:max-w-lg rounded-t-2xl md:rounded-2xl p-5 glass">
      <div class="flex justify-between items-start">
        <div>
          <h2 id="modalTitle" class="text-2xl font-bold"></h2>
          <p id="modalSub" class="opacity-60"></p>
        </div>
        <button id="closeModal" class="text-xl">âœ–ï¸</button>
      </div>
      <div id="modalOptions" class="mt-4 space-y-4"></div>
      <div class="mt-4 flex justify-between items-center">
        <div class="text-xl font-bold" id="modalPrice">0 Ø±ÙŠØ§Ù„</div>
        <div>
          <button id="addToCartBtn" class="px-4 py-2 rounded-lg" style="background:var(--gold); color:#2b1a10; font-weight:700;">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Drawer -->
  <div id="cartDrawer" class="fixed inset-0 hidden z-50">
    <div class="absolute inset-0 bg-black/40" id="cartOverlay"></div>
    <div class="absolute bottom-0 left-0 right-0 bg-[#21140f] rounded-t-2xl p-5 max-h-[80vh] overflow-y-auto">
      <div class="flex justify-between items-center">
        <h3 class="text-xl font-bold">Ø§Ù„Ø³Ù„Ø©</h3>
        <button id="closeCart" class="text-xl">âœ–ï¸</button>
      </div>
      <div id="cartItems" class="mt-4 space-y-3"></div>

      <div class="mt-4 border-t border-white/10 pt-4 flex justify-between items-center">
        <div class="text-lg">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
        <div id="cartTotalBottom" class="text-2xl font-bold">0 Ø±ÙŠØ§Ù„</div>
      </div>

      <div class="mt-4 flex gap-3">
        <button id="sendWhatsapp" class="flex-1 py-3 rounded-lg" style="background:var(--gold); color:#2b1a10; font-weight:700;">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button id="clearCart" class="flex-1 py-3 rounded-lg glass">Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©</button>
      </div>
    </div>
  </div>

  <div id="toast" class="fixed left-1/2 -translate-x-1/2 bottom-28 hidden z-50 p-3 rounded-md" style="background:#111; color:var(--gold);"></div>

  <script>
    /********** Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ÙŠÙˆ (Ù…ÙØ¯Ø®Ù„Ø© ÙƒØ§Ù…Ù„Ø©) **********/
    const menuData = [
      {
        section: "Ø§Ù„Ø´ÙˆØ§ÙŠÙ‡",
        items: [
          { id: "sh1", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 46 },
          { id: "sh2", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 24 },
          { id: "sh3", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 50 },
          { id: "sh4", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 25 },
          { id: "sh5", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 50 },
          { id: "sh6", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 25 },
          { id: "sh7", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 50 },
          { id: "sh8", icon: "ğŸ—", name: "Ø´ÙˆØ§ÙŠØ© - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 25 }
        ]
      },
      {
        section: "Ù…Ø¸Ø¨ÙŠ",
        items: [
          { id: "md1", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 46 },
          { id: "md2", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 24 },
          { id: "md3", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 50 },
          { id: "md4", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 25 },
          { id: "md5", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 50 },
          { id: "md6", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 25 },
          { id: "md7", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 50 },
          { id: "md8", icon: "ğŸ–", name: "Ù…Ø¸Ø¨ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 25 }
        ]
      },
      {
        section: "Ù…Ù†Ø¯ÙŠ",
        items: [
          { id: "mn1", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 46 },
          { id: "mn2", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø´Ø¹Ø¨ÙŠ)", price: 24 },
          { id: "mn3", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 50 },
          { id: "mn4", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ø¨Ø´Ø§ÙˆØ±)", price: 25 },
          { id: "mn5", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 50 },
          { id: "mn6", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ù†Ø¯ÙŠ)", price: 25 },
          { id: "mn7", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 50 },
          { id: "mn8", icon: "ğŸ›", name: "Ù…Ù†Ø¯ÙŠ - Ù†ØµÙ Ø­Ø¨Ø© (Ø±Ø² Ù…Ø«Ù„ÙˆØ«Ù‡)", price: 25 }
        ]
      },
      {
        section: "Ù…Ø¶ØºÙˆØ·",
        items: [
          { id: "mp1", icon: "ğŸ½ï¸", name: "Ù…Ø¶ØºÙˆØ· - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø©", price: 50 },
          { id: "mp2", icon: "ğŸ½ï¸", name: "Ù…Ø¶ØºÙˆØ· - Ù†ØµÙ Ø­Ø¨Ø©", price: 25 }
        ]
      },
      {
        section: "Ø²Ø±Ø¨ÙŠØ§Ù†",
        items: [
          { id: "zr1", icon: "ğŸš", name: "Ø²Ø±Ø¨ÙŠØ§Ù† - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø©", price: 50 },
          { id: "zr2", icon: "ğŸš", name: "Ø²Ø±Ø¨ÙŠØ§Ù† - Ù†ØµÙ Ø­Ø¨Ø©", price: 25 }
        ]
      },
      {
        section: "Ù…Ù‚Ù„ÙˆØ¨Ù‡",
        items: [
          { id: "mq1", icon: "ğŸ²", name: "Ù…Ù‚Ù„ÙˆØ¨Ù‡ - Ø­Ø¨Ø© ÙƒØ§Ù…Ù„Ø©", price: 50 },
          { id: "mq2", icon: "ğŸ²", name: "Ù…Ù‚Ù„ÙˆØ¨Ù‡ - Ù†ØµÙ Ø­Ø¨Ø©", price: 25 }
        ]
      },
      {
        section: "Ù‚Ø³Ù… Ø§Ù„Ø­Ù…",
        items: [
          { id: "t1", icon: "ğŸ", name: "ØªÙŠØ³ ÙƒØ§Ù…Ù„ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 1500 },
          { id: "t2", icon: "ğŸ", name: "ØªÙŠØ³ ÙƒØ§Ù…Ù„ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ù…Ù†Ø¯ÙŠ", price: 1600 },
          { id: "t3", icon: "ğŸ", name: "ØªÙŠØ³ ÙƒØ§Ù…Ù„ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø¨Ø´Ø§ÙˆØ±", price: 1600 },
          { id: "t4", icon: "ğŸ", name: "Ù†Øµ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 750 },
          { id: "t5", icon: "ğŸ", name: "Ù†Øµ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø¨Ø´Ø§ÙˆØ±", price: 775 },
          { id: "t6", icon: "ğŸ", name: "Ù†Øµ ØªÙŠØ³ - Ø±Ø² Ù…Ù†Ø¯ÙŠ", price: 775 },
          { id: "t7", icon: "ğŸ", name: "Ø±Ø¨Ø¹ ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 0 },
          { id: "t8", icon: "ğŸ–", name: "Ù†ÙØ± Ù„Ø­Ù… ØªÙŠØ³ Ù…Ù†Ø¯ÙŠ - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 85 },
          { id: "t9", icon: "ğŸ„", name: "Ù„Ø­Ù… Ø­Ø§Ø´ÙŠ Ù…ÙƒÙ…ÙˆØª - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 50 },
          { id: "t10", icon: "ğŸ¥©", name: "Ù„Ø­Ù… Ø¨Ø±Ù…Ù‡ Ù†Ø¹ÙŠÙ…ÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø±Ù‚ - Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 68 }
        ]
      },
      {
        section: "Ø§Ù„Ù…Ø´ÙˆÙŠØ§Øª",
        items: [
          { id: "k1", icon: "ğŸ¢", name: "ÙƒØ¨Ø§Ø¨ Ù„Ø­Ù… - Ù†ÙØ±", price: 38 },
          { id: "k2", icon: "ğŸ¢", name: "ÙƒØ¨Ø§Ø¨ Ù„Ø­Ù… - Ù†Øµ ÙƒÙŠÙ„Ùˆ", price: 76 },
          { id: "k3", icon: "ğŸ¢", name: "ÙƒØ¨Ø§Ø¨ Ù„Ø­Ù… - ÙƒÙŠÙ„Ùˆ", price: 150 },
          { id: "k4", icon: "ğŸ¥©", name: "Ø§ÙˆØµÙ„ Ù„Ø­Ù… - Ù†ÙØ±", price: 45 },
          { id: "k5", icon: "ğŸ—", name: "ÙƒØ¨Ø§Ø¨ Ø¯Ø¬Ø§Ø¬ - Ù†ÙØ±", price: 30 },
          { id: "k6", icon: "ğŸ—", name: "ÙƒØ¨Ø§Ø¨ Ø¯Ø¬Ø§Ø¬ - Ù†Øµ ÙƒÙŠÙ„Ùˆ", price: 60 },
          { id: "k7", icon: "ğŸ—", name: "ÙƒØ¨Ø§Ø¨ Ø¯Ø¬Ø§Ø¬ - ÙƒÙŠÙ„Ùˆ", price: 120 },
          { id: "k8", icon: "ğŸ—", name: "Ø´ÙŠØ´ Ø·Ø§ÙˆÙ‚ - Ù†ÙØ±", price: 30 },
          { id: "k9", icon: "ğŸ—", name: "Ø´ÙŠØ´ Ø·Ø§ÙˆÙ‚ - Ù†Øµ ÙƒÙŠÙ„Ùˆ", price: 60 },
          { id: "k10", icon: "ğŸ—", name: "Ø´ÙŠØ´ Ø·Ø§ÙˆÙ‚ - ÙƒÙŠÙ„Ùˆ", price: 120 }
        ]
      },
      {
        section: "Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª",
        items: [
          { id: "add1", icon: "â•", name: "Ù†ÙØ± Ø±Ø² Ø´Ø¹Ø¨ÙŠ", price: 10 },
          { id: "add2", icon: "â•", name: "Ù†ÙØ± Ø±Ø² Ù…Ù†Ø¯ÙŠ", price: 10 },
          { id: "add3", icon: "â•", name: "Ù†ÙØ± Ø±Ø² Ø¨Ø´Ø§ÙˆØ±", price: 10 },
          { id: "add4", icon: "ğŸ¥—", name: "Ø³Ù„Ø·Ù‡ Ø­Ø§Ø±", price: 3 },
          { id: "add5", icon: "ğŸ¥£", name: "Ø·Ø­ÙŠÙ†Ù‡", price: 3 }
        ]
      },
      {
        section: "Ø§Ù„Ø§ÙŠØ¯Ø§Ù…Ø§Øª",
        items: [
          { id: "e1", icon: "ğŸ¥˜", name: "Ø¨Ø§Ù…ÙŠÙ‡", price: 10 },
          { id: "e2", icon: "ğŸ¥¬", name: "Ù…Ù„ÙˆØ®ÙŠÙ‡", price: 10 },
          { id: "e3", icon: "ğŸ¥¦", name: "Ù…Ø´ÙƒÙ„ Ø®Ø¶Ø§Ø±", price: 10 },
          { id: "e4", icon: "ğŸ³", name: "Ù…Ø´ÙƒÙ„ ÙØ±Ù†", price: 10 },
          { id: "e5", icon: "ğŸ†", name: "Ù…Ø³Ù‚Ø¹", price: 12 }
        ]
      },
      {
        section: "Ø§Ù„Ø¬Ø±ÙŠØ´ ÙˆØ§Ù„Ù‚Ø±ØµØ§Ù†",
        items: [
          { id: "g1", icon: "ğŸŒ¾", name: "Ø¬Ø±ÙŠØ´ ÙƒØ¨ÙŠØ±", price: 10 },
          { id: "g2", icon: "ğŸŒ¾", name: "Ø¬Ø±ÙŠØ´ ØµØºÙŠØ±", price: 5 },
          { id: "g3", icon: "ğŸ¥£", name: "Ù‚Ø±ØµØ§Ù† ÙƒØ¨ÙŠØ±", price: 10 },
          { id: "g4", icon: "ğŸ¥£", name: "Ù‚Ø±ØµØ§Ù† ØµØºÙŠØ±", price: 5 }
        ]
      },
      {
        section: "Ø§Ù„Ù…Ù‚Ø¨Ù„Ø§Øª",
        items: [
          { id: "m1", icon: "ğŸ¥—", name: "Ø³Ù„Ø·Ù‡ Ø®Ø¶Ø±Ø§ ÙˆØ³Ø·", price: 10 },
          { id: "m2", icon: "ğŸ¥—", name: "Ø³Ù„Ø·Ù‡ Ø®Ø¶Ø±Ø§ ØµØºÙŠØ±", price: 5 },
          { id: "m3", icon: "ğŸ¥’", name: "Ø®ÙŠØ§Ø± Ù„Ø¨Ù† ÙˆØ³Ø·", price: 10 },
          { id: "m4", icon: "ğŸ¥’", name: "Ø®ÙŠØ§Ø± Ù„Ø¨Ù† ØµØºÙŠØ±", price: 5 },
          { id: "m5", icon: "ğŸ¥—", name: "ØªØ¨ÙˆÙ„Ù‡ ÙˆØ³Ø·", price: 13 },
          { id: "m6", icon: "ğŸ¥—", name: "ØªØ¨ÙˆÙ„Ù‡ ØµØºÙŠØ±", price: 7 },
          { id: "m7", icon: "ğŸ½ï¸", name: "Ù…ØªØ¨Ù„ ÙˆØ³Ø·", price: 13 },
          { id: "m8", icon: "ğŸ½ï¸", name: "Ù…ØªØ¨Ù„ ØµØºÙŠØ±", price: 7 },
          { id: "m9", icon: "ğŸ¥£", name: "Ø­Ù…Øµ ÙˆØ³Ø·", price: 13 },
          { id: "m10", icon: "ğŸ¥£", name: "Ø­Ù…Øµ ØµØºÙŠØ±", price: 7 },
          { id: "m11", icon: "ğŸ¥”", name: "Ø³Ù„Ø·Ù‡ Ø±ÙˆØ³ÙŠÙ‡ ÙˆØ³Ø·", price: 13 },
          { id: "m12", icon: "ğŸ¥”", name: "Ø³Ù„Ø·Ù‡ Ø±ÙˆØ³ÙŠÙ‡ ØµØºÙŠØ±", price: 7 },
          { id: "m13", icon: "ğŸ¥—", name: "Ø³Ù„Ø·Ù‡ Ø§Ù…Ø±ÙŠÙƒÙŠÙ‡ ÙˆØ³Ø·", price: 13 },
          { id: "m14", icon: "ğŸ¥—", name: "Ø³Ù„Ø·Ù‡ Ø§Ù…Ø±ÙŠÙƒÙŠÙ‡ ØµØºÙŠØ±", price: 7 },
          { id: "m15", icon: "ğŸ½ï¸", name: "Ù…Ø´ÙƒÙ„ Ù…Ù‚Ø¨Ù„Ø§Øª ÙˆØ³Ø·", price: 13 },
          { id: "m16", icon: "ğŸ½ï¸", name: "Ù…Ø´ÙƒÙ„ Ù…Ù‚Ø¨Ù„Ø§Øª ÙƒØ¨ÙŠØ±", price: 30 }
        ]
      },
      {
        section: "Ø§Ù„ÙƒÙ†Ø§ÙÙ‡",
        items: [
          { id: "kna1", icon: "ğŸ°", name: "ÙƒÙ†Ø§ÙÙ‡ Ù‚Ø´Ø·Ù‡", price: 10 },
          { id: "kna2", icon: "ğŸ«", name: "ÙƒÙ†Ø§ÙÙ‡ Ø¬Ù„Ø§ÙƒØ³ÙŠ", price: 12 },
          { id: "kna3", icon: "ğŸ«", name: "ÙƒÙ†Ø§ÙÙ‡ Ù†ÙˆØªÙŠÙ„Ø§", price: 12 }
        ]
      },
      {
        section: "Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª",
        items: [
          { id: "bev1", icon: "ğŸ¥¤", name: "Ø¨Ø¨Ø³ÙŠ ØµØºÙŠØ±", price: 3 },
          { id: "bev2", icon: "ğŸ¥¤", name: "Ø¨Ø¨Ø³ÙŠ ÙˆØ³Ø·", price: 6 },
          { id: "bev3", icon: "ğŸ¥¤", name: "Ø¨Ø¨Ø³ÙŠ ÙƒØ¨ÙŠØ±", price: 9 },
          { id: "bev4", icon: "ğŸ¥¤", name: "Ø¨Ø¨Ø³ÙŠ Ø¯Ø§ÙŠØª ØµØºÙŠØ±", price: 3 },
          { id: "bev5", icon: "ğŸ‹", name: "Ø­Ù…Ø¶ÙŠØ§Øª ØµØºÙŠØ±", price: 3 },
          { id: "bev6", icon: "ğŸ‹", name: "Ø­Ù…Ø¶ÙŠØ§Øª ÙˆØ³Ø·", price: 6 },
          { id: "bev7", icon: "ğŸ‹", name: "Ø­Ù…Ø¶ÙŠØ§Øª ÙƒØ¨ÙŠØ±", price: 9 },
          { id: "bev8", icon: "ğŸ¥¤", name: "Ø³ÙÙ† Ø§Ø¨ ØµØºÙŠØ±", price: 3 },
          { id: "bev9", icon: "ğŸ¥¤", name: "Ø³ÙÙ† Ø§Ø¨ ÙˆØ³Ø·", price: 6 },
          { id: "bev10", icon: "ğŸ¥¤", name: "Ø³ÙÙ† Ø§Ø¨ ÙƒØ¨ÙŠØ±", price: 9 },
          { id: "bev11", icon: "ğŸ¥¤", name: "Ø³ÙÙ† Ø§Ø¨ Ø¯Ø§ÙŠØª ØµØºÙŠØ±", price: 3 },
          { id: "bev12", icon: "ğŸ¥›", name: "Ù„Ø¨Ù† Ø§Ù„Ù…Ø±Ø§Ø¹ÙŠ ØµØºÙŠØ±", price: 2 },
          { id: "bev13", icon: "ğŸ¥›", name: "Ù„Ø¨Ù† Ø§Ù„Ù‚Ø±ÙŠÙ‡ ØµØºÙŠØ±", price: 3 },
          { id: "bev14", icon: "ğŸ¥›", name: "Ù„Ø¨Ù† Ø§Ù„Ù…Ø±Ø§Ø¹ÙŠ ÙˆØ³Ø·", price: 6 },
          { id: "bev15", icon: "ğŸ¥›", name: "Ù„Ø¨Ù† Ø§Ù„Ù…Ø±Ø§Ø¹ÙŠ ÙƒØ¨ÙŠØ±", price: 12 }
        ]
      }
    ];

    /********** Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙØ­Ø© Ùˆ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø³Ù„Ø© Ùˆ Ø§Ù„Ø¹Ø±Ø¶ **********/
    const sectionsEl = document.getElementById('sections');
    const menuList = document.getElementById('menuList');
    const searchInput = document.getElementById('searchInput');

    const productModal = document.getElementById('productModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalSub = document.getElementById('modalSub');
    const modalOptions = document.getElementById('modalOptions');
    const modalPrice = document.getElementById('modalPrice');
    const addToCartBtn = document.getElementById('addToCartBtn');
    const closeModal = document.getElementById('closeModal');

    const cartDrawer = document.getElementById('cartDrawer');
    const cartOverlay = document.getElementById('cartOverlay');
    const cartItemsEl = document.getElementById('cartItems');
    const cartTotalBottom = document.getElementById('cartTotalBottom');
    const cartTotal = document.getElementById('cartTotal');
    const cartCount = document.getElementById('cartCount');

    let cart = JSON.parse(localStorage.getItem('deerty_cart') || '[]');

    function renderSections() {
      sectionsEl.innerHTML = '';
      menuData.forEach((sec, idx) => {
        const btn = document.createElement('button');
        btn.className = 'px-4 py-2 rounded-full glass whitespace-nowrap';
        btn.innerText = sec.section;
        btn.onclick = () => renderMenu(sec.section);
        sectionsEl.appendChild(btn);
        if (idx === 0) btn.click();
      });
    }

    function renderMenu(sectionName) {
      menuList.innerHTML = '';
      const filtered = menuData.find(s => s.section === sectionName);
      if (!filtered) return;
      filtered.items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'glass p-4 rounded-xl flex justify-between items-center';
        card.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="text-3xl">${item.icon || 'ğŸ½ï¸'}</div>
            <div>
              <h3 class="text-xl font-bold">${item.name}</h3>
              <p class="opacity-60">${sectionName}</p>
            </div>
          </div>
          <div class="flex flex-col items-end gap-2">
            <div class="text-2xl font-extrabold">${item.price} <span class="text-sm">Ø±ÙŠØ§Ù„</span></div>
            <button class="mt-2 px-3 py-2 rounded-lg" style="background:var(--gold); color:#2b1a10; font-weight:700;" data-id="${item.id}">Ø¹Ø±Ø¶</button>
          </div>
        `;
        const showBtn = card.querySelector('button');
        showBtn.addEventListener('click', () => openModal(item, sectionName));
        menuList.appendChild(card);
      });
    }

    searchInput.addEventListener('input', (e) => {
      const q = e.target.value.trim();
      if (!q) { document.querySelectorAll('#sections button')[0]?.click(); return; }
      const results = [];
      menuData.forEach(sec => sec.items.forEach(it => {
        if (it.name.includes(q) || it.name.replace(/\s/g,'').includes(q.replace(/\s/g,''))) results.push({ ...it, section: sec.section });
      }));
      menuList.innerHTML = '';
      if (results.length === 0) {
        menuList.innerHTML = '<div class="p-4 glass rounded-xl">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬</div>';
        return;
      }
      results.forEach(item => {
        const card = document.createElement('div');
        card.className = 'glass p-4 rounded-xl flex justify-between items-center';
        card.innerHTML = `
          <div class="flex items-center gap-3">
            <div class="text-3xl">${item.icon || 'ğŸ½ï¸'}</div>
            <div>
              <h3 class="text-xl font-bold">${item.name}</h3>
              <p class="opacity-60">${item.section}</p>
            </div>
          </div>
          <div class="flex flex-col items-end gap-2">
            <div class="text-2xl font-extrabold">${item.price} <span class="text-sm">Ø±ÙŠØ§Ù„</span></div>
            <button class="mt-2 px-3 py-2 rounded-lg" style="background:var(--gold); color:#2b1a10; font-weight:700;" data-id="${item.id}">Ø¹Ø±Ø¶</button>
          </div>
        `;
        const showBtn = card.querySelector('button');
        showBtn.addEventListener('click', () => openModal(item, item.section));
        menuList.appendChild(card);
      });
    });

    let currentItem = null;
    function openModal(item, sectionName) {
      currentItem = item;
      modalTitle.innerText = item.name;
      modalSub.innerText = sectionName || '';
      modalOptions.innerHTML = '';

      // quantity
      const qtyDiv = document.createElement('div');
      qtyDiv.className = 'flex items-center gap-3';
      qtyDiv.innerHTML = `
        <label class="opacity-70">Ø§Ù„ÙƒÙ…ÙŠØ©:</label>
        <button id="decQty" class="px-3 py-1 glass rounded">-</button>
        <span id="qtyVal" class="px-3">1</span>
        <button id="incQty" class="px-3 py-1 glass rounded">+</button>
      `;
      modalOptions.appendChild(qtyDiv);

      // note
      const noteDiv = document.createElement('div');
      noteDiv.innerHTML = `<textarea id="itemNote" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø© (Ù…Ø«Ù„: Ø¨Ø¯ÙˆÙ† Ù…Ù„Ø­)" class="w-full p-2 mt-2 rounded-md glass" rows="2"></textarea>`;
      modalOptions.appendChild(noteDiv);

      // price
      modalPrice.innerText = item.price + ' Ø±ÙŠØ§Ù„';

      let qty = 1;
      document.getElementById('decQty').addEventListener('click', () => {
        if (qty>1) { qty--; document.getElementById('qtyVal').innerText = qty; modalPrice.innerText = (item.price*qty) + ' Ø±ÙŠØ§Ù„'; }
      });
      document.getElementById('incQty').addEventListener('click', () => {
        qty++; document.getElementById('qtyVal').innerText = qty; modalPrice.innerText = (item.price*qty) + ' Ø±ÙŠØ§Ù„';
      });

      addToCartBtn.onclick = () => {
        const note = document.getElementById('itemNote').value || '';
        addToCart({ ...item, qty, note });
        hideModal();
      };

      productModal.classList.remove('hidden'); productModal.classList.add('flex');
    }

    function hideModal() { productModal.classList.remove('flex'); productModal.classList.add('hidden'); }
    closeModal.addEventListener('click', hideModal);
    productModal.addEventListener('click', (e) => { if (e.target === productModal) hideModal(); });

    function saveCart() { localStorage.setItem('deerty_cart', JSON.stringify(cart)); renderCart(); }

    function addToCart(item) {
      const found = cart.find(i => i.id === item.id && i.note === item.note);
      if (found) found.qty += item.qty; else cart.push({ id: item.id, name: item.name, price: item.price, qty: item.qty, note: item.note });
      showToast('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©');
      saveCart();
    }

    function renderCart() {
      cartItemsEl.innerHTML = '';
      let total = 0;
      let count = 0;
      cart.forEach((it, idx) => {
        const row = document.createElement('div');
        row.className = 'flex justify-between items-center glass p-3 rounded';
        row.innerHTML = `
          <div>
            <div class="font-bold">${it.name}</div>
            ${it.note ? `<div class="opacity-60 text-sm">Ù…Ù„Ø§Ø­Ø¸Ø©: ${it.note}</div>` : ''}
          </div>
          <div class="text-right">
            <div class="font-bold">${it.price * it.qty} Ø±ÙŠØ§Ù„</div>
            <div class="flex gap-2 mt-2 justify-end items-center">
              <button class="glass px-2 py-1" data-action="dec" data-idx="${idx}">-</button>
              <div class="px-2">${it.qty}</div>
              <button class="glass px-2 py-1" data-action="inc" data-idx="${idx}">+</button>
              <button class="glass px-2 py-1" data-action="remove" data-idx="${idx}">Ø­Ø°Ù</button>
            </div>
          </div>
        `;
        cartItemsEl.appendChild(row);
        total += it.price * it.qty; count += it.qty;
      });
      cartTotalBottom.innerText = total + ' Ø±ÙŠØ§Ù„';
      cartTotal.innerText = total + ' Ø±ÙŠØ§Ù„';
      cartCount.innerText = count;
      cartCount.style.display = count === 0 ? 'none' : 'inline-block';
      localStorage.setItem('deerty_cart', JSON.stringify(cart));
    }

    cartItemsEl.addEventListener('click', (e) => {
      const action = e.target.dataset.action;
      const idx = e.target.dataset.idx;
      if (!action) return;
      if (action === 'inc') { cart[idx].qty++; saveCart(); }
      if (action === 'dec') { if (cart[idx].qty>1) cart[idx].qty--; else cart.splice(idx,1); saveCart(); }
      if (action === 'remove') { cart.splice(idx,1); saveCart(); }
    });

    document.getElementById('openCartBottom').addEventListener('click', () => { cartDrawer.classList.remove('hidden'); cartDrawer.classList.add('block'); renderCart(); });
    document.getElementById('cartBtn').addEventListener('click', () => { cartDrawer.classList.remove('hidden'); cartDrawer.classList.add('block'); renderCart(); });
    document.getElementById('closeCart').addEventListener('click', () => cartDrawer.classList.add('hidden'));
    cartOverlay.addEventListener('click', () => cartDrawer.classList.add('hidden'));
    document.getElementById('clearCart').addEventListener('click', () => { cart = []; saveCart(); showToast('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©'); });

    // Ù‡Ù†Ø§ Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¶Ø§Ù Ø¨ØµÙŠØºØ© Ø¯ÙˆÙ„ÙŠØ© (Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© 966)
    const whatsappPhone = '966536803598';

    document.getElementById('sendWhatsapp').addEventListener('click', () => {
      if (cart.length === 0) { showToast('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
      const lines = ['Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…Ø·Ø§Ø¹Ù… Ø³Ø­Ø§ÙŠØ¨ Ø¯ÙŠØ±ØªÙŠ:'];
      cart.forEach(it => {
        lines.push(`${it.qty} Ã— ${it.name} â€” ${it.price * it.qty} Ø±ÙŠØ§Ù„${it.note ? ' (Ù…Ù„Ø§Ø­Ø¸Ø©: '+it.note+')' : ''}`);
      });
      const total = cart.reduce((s,i)=>s + i.price*i.qty,0);
      lines.push(`Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø±ÙŠØ§Ù„`);
      const text = encodeURIComponent(lines.join('\n'));
      const url = `https://wa.me/${whatsappPhone}?text=${text}`;
      window.open(url, '_blank');
    });

    function showToast(msg, time = 2000) {
      const t = document.getElementById('toast');
      t.innerText = msg;
      t.classList.remove('hidden'); t.classList.add('block');
      setTimeout(() => { t.classList.remove('block'); t.classList.add('hidden'); }, time);
    }

    // PWA install
    let deferredPrompt;
    const installBanner = document.getElementById('installBanner');
    const installButton = document.getElementById('installButton');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBanner.style.display = 'block';
    });

    installButton.addEventListener('click', async () => {
      installBanner.style.display = 'none';
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      const choice = await deferredPrompt.userChoice;
      if (choice.outcome === 'accepted') showToast('Ø´ÙƒØ±Ø§Ù‹! ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„ØªØ«Ø¨ÙŠØª'); else showToast('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª');
      deferredPrompt = null;
    });
    window.addEventListener('appinstalled', () => { installBanner.style.display = 'none'; });

    // register SW
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then(() => console.log('SW registered')).catch(err => console.log('SW err', err));
    }

    // init
    renderSections();
    renderCart();
  </script>
</body>
  </html>
